<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mohit's Tracker — Metals & BeES Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=20260225">
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>

<body>

    <!-- Ambient background orbs -->
    <div class="bg-orbs" aria-hidden="true">
        <div class="orb orb-gold"></div>
        <div class="orb orb-silver"></div>
    </div>

    <!-- ─── Navbar ─── -->
    <nav class="navbar">
        <a class="logo" href="#">
            <i class="fa-solid fa-gem"></i>
            <span>Mohit's Tracker</span>
        </a>
        <div class="nav-actions">
            <div class="source-toggle" id="source-toggle">
                <button class="source-btn active" data-source="yahoo" title="Source: Yahoo Finance">
                    <i class="fa-solid fa-y"></i>
                    <span>Yahoo</span>
                </button>
                <button class="source-btn" data-source="tradingview" title="Source: TradingView Scanner">
                    <i class="fa-solid fa-chart-line"></i>
                    <span>TradingView</span>
                </button>
            </div>
            <button id="theme-toggle" class="btn-icon" aria-label="Toggle theme">
                <i class="fa-solid fa-moon" id="theme-icon"></i>
            </button>
        </div>
    </nav>

    <!-- ─── Live Status Bar ─── -->
    <div class="container">
        <div class="live-bar">
            <div class="live-item">
                <i class="fa-solid fa-clock"></i>
                <span id="live-clock">--:--:-- IST</span>
            </div>
            <div class="live-item">
                <i class="fa-solid fa-rotate"></i>
                <span>Refresh in <strong id="countdown">5</strong>s</span>
            </div>
            <div class="live-item">
                <i class="fa-solid fa-database"></i>
                <span>Updated <strong id="last-updated-time">--:--:--</strong></span>
            </div>
            <div class="live-item">
                <i class="fa-solid fa-building-columns"></i>
                <span id="nse-status">NSE: Checking…</span>
            </div>
        </div>
    </div>

    <!-- ─── Hero ─── -->
    <header class="hero container">
        <h1>Market Overview</h1>
        <p>Precious metals · NSE BeES · MCX Futures · Predictive gap analysis</p>
    </header>

    <!-- ─── Main ─── -->
    <main class="container">

        <!-- Section 1: USD Metals -->
        <section class="section">
            <div class="section-label">USD Commodities · 1D Change · INR/g Derived</div>
            <div class="cards-grid">

                <!-- Gold USD -->
                <div class="card" id="card-gold-usd">
                    <div class="card-meta">
                        <div class="asset-icon gold"><i class="fa-solid fa-coins"></i></div>
                        <div>
                            <div class="asset-name">Gold</div>
                            <div class="asset-sub"><span class="source-label">COMEX · GC=F</span></div>
                        </div>
                        <div class="badge">USD</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">$</span><span class="price-value" id="xau-price">Loading...</span>
                    </div>
                    <div class="card-change" id="xau-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="xau-change">Loading...</span>
                        <span id="xau-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <!-- INR / gram derived -->
                    <div class="inr-gram-row">
                        <span class="inr-gram-label">Per gram (INR)</span>
                        <span class="inr-gram-value" id="xau-inr-gram">Loading...</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="TVC:GOLD" data-name="Gold Spot (USD)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

                <!-- Silver USD -->
                <div class="card" id="card-silver-usd">
                    <div class="card-meta">
                        <div class="asset-icon silver"><i class="fa-solid fa-coins"></i></div>
                        <div>
                            <div class="asset-name">Silver</div>
                            <div class="asset-sub"><span class="source-label">COMEX · SI=F</span></div>
                        </div>
                        <div class="badge">USD</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">$</span><span class="price-value" id="xag-price">Loading...</span>
                    </div>
                    <div class="card-change" id="xag-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="xag-change">Loading...</span>
                        <span id="xag-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="inr-gram-row">
                        <span class="inr-gram-label">Per gram (INR)</span>
                        <span class="inr-gram-value" id="xag-inr-gram">Loading...</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="TVC:SILVER" data-name="Silver Spot (USD)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

                <!-- USD/INR Rate Card -->
                <div class="card card-slim">
                    <div class="card-meta">
                        <div class="asset-icon fx"><i class="fa-solid fa-arrow-right-arrow-left"></i></div>
                        <div>
                            <div class="asset-name">USD / INR</div>
                            <div class="asset-sub"><span class="source-label">Forex pair</span></div>
                        </div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">₹</span><span class="price-value"
                            id="usdinr-price">Loading...</span>
                    </div>
                    <div class="card-change" id="usdinr-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="usdinr-change">Loading...</span>
                        <span id="usdinr-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="FX_IDC:USDINR" data-name="USD / INR Forex">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: MCX Futures (India) -->
        <section class="section" id="section-mcx">
            <div class="section-label">MCX Futures (India) · Mini Contracts</div>
            <div class="cards-grid">

                <!-- Gold Mini MCX -->
                <div class="card" id="card-gold-mcx">
                    <div class="card-meta">
                        <div class="asset-icon gold"><i class="fa-solid fa-gauge-high"></i></div>
                        <div>
                            <div class="asset-name">Gold Mini</div>
                            <div class="asset-sub"><span class="source-label">MCX:GOLDM1!</span></div>
                        </div>
                        <div class="badge">MCX</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">₹</span><span class="price-value" id="xaum-price">Loading...</span>
                    </div>
                    <div class="card-change" id="xaum-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="xaum-change">Loading...</span>
                        <span id="xaum-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="MCX:GOLDM1!" data-name="Gold Mini (MCX)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

                <!-- Silver Mini MCX -->
                <div class="card" id="card-silver-mcx">
                    <div class="card-meta">
                        <div class="asset-icon silver"><i class="fa-solid fa-gauge-high"></i></div>
                        <div>
                            <div class="asset-name">Silver Mini</div>
                            <div class="asset-sub"><span class="source-label">MCX:SILVERM1!</span></div>
                        </div>
                        <div class="badge">MCX</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">₹</span><span class="price-value" id="xagm-price">Loading...</span>
                    </div>
                    <div class="card-change" id="xagm-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="xagm-change">Loading...</span>
                        <span id="xagm-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="MCX:SILVERM1!" data-name="Silver Mini (MCX)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

            </div>
        </section>

        <!-- Section 2: NSE BeES ETFs -->
        <section class="section">
            <div class="section-label">NSE BeES ETFs · 1D Change</div>
            <div class="cards-grid">

                <!-- Gold BeES -->
                <div class="card">
                    <div class="card-meta">
                        <div class="asset-icon gold"><i class="fa-solid fa-box-archive"></i></div>
                        <div>
                            <div class="asset-name">Gold BeES</div>
                            <div class="asset-sub"><span class="source-label">GOLDBEES.NS · Nippon</span></div>
                        </div>
                        <div class="badge">ETF</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">₹</span><span class="price-value"
                            id="goldbees-price">Loading...</span>
                    </div>
                    <div class="card-change" id="goldbees-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="goldbees-change">Loading...</span>
                        <span id="goldbees-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="NSE:GOLDBEES" data-name="Gold BeES (NSE)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

                <!-- Silver BeES -->
                <div class="card">
                    <div class="card-meta">
                        <div class="asset-icon silver"><i class="fa-solid fa-box-archive"></i></div>
                        <div>
                            <div class="asset-name">Silver BeES</div>
                            <div class="asset-sub"><span class="source-label">SILVERBEES.NS · Mirae</span></div>
                        </div>
                        <div class="badge">ETF</div>
                    </div>
                    <div class="card-price">
                        <span class="price-currency">₹</span><span class="price-value"
                            id="silverbees-price">Loading...</span>
                    </div>
                    <div class="card-change" id="silverbees-change-row">
                        <i class="fa-solid fa-caret-up caret"></i>
                        <span id="silverbees-change">Loading...</span>
                        <span id="silverbees-pct" class="pct">(Loading...)</span>
                        <span class="tag-1d">1D</span>
                    </div>
                    <div class="card-actions">
                        <button class="btn-chart" data-symbol="NSE:SILVERBEES" data-name="Silver BeES (NSE)">
                            <i class="fa-solid fa-chart-line"></i> Chart
                        </button>
                    </div>
                </div>

            </div>
        </section>


        <!-- Section 4: Gap Prediction -->
        <section class="section">
            <div class="section-label">Tomorrow's Expected Gap · USD move since NSE close (15:30 IST)</div>
            <div class="cards-grid">

                <!-- Gold BeES Expected Open -->
                <div class="card card-prediction" id="gold-gap-card">
                    <div class="prediction-header">
                        <i class="fa-solid fa-bolt text-gold"></i>
                        <span>Expected Gold BeES Open</span>
                    </div>
                    <div class="market-open-msg">Markets are open</div>
                    <div class="card-price prediction-price">
                        <span class="price-currency">₹</span>
                        <span class="price-value large" id="expected-goldbees"></span>
                    </div>
                    <div class="gap-table">
                        <div class="gap-row">
                            <span>Gold USD at 15:30 IST</span>
                            <span id="gold-anchor"></span>
                        </div>
                        <div class="gap-row">
                            <span>Gold USD now</span>
                            <span id="gold-now"></span>
                        </div>
                        <div class="gap-divider"></div>
                        <div class="gap-row gap-total">
                            <span>Move since close</span>
                            <span class="gap-pct" id="gold-gap-pct"></span>
                        </div>
                    </div>
                </div>

                <!-- Silver BeES Expected Open -->
                <div class="card card-prediction" id="silver-gap-card">
                    <div class="prediction-header">
                        <i class="fa-solid fa-bolt text-silver"></i>
                        <span>Expected Silver BeES Open</span>
                    </div>
                    <div class="market-open-msg">Markets are open</div>
                    <div class="card-price prediction-price">
                        <span class="price-currency">₹</span>
                        <span class="price-value large" id="expected-silverbees"></span>
                    </div>
                    <div class="gap-table">
                        <div class="gap-row">
                            <span>Silver USD at 15:30 IST</span>
                            <span id="silver-anchor"></span>
                        </div>
                        <div class="gap-row">
                            <span>Silver USD now</span>
                            <span id="silver-now"></span>
                        </div>
                        <div class="gap-divider"></div>
                        <div class="gap-row gap-total">
                            <span>Move since close</span>
                            <span class="gap-pct" id="silver-gap-pct"></span>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="footer container">
        Data sourced from Yahoo Finance via public APIs · Refresh every 30s · INR/g = (Price×USDINR)÷28.3 · MCX prices
        estimated
    </footer>

    <!-- ─── Chart Modal ─── -->
    <div id="chart-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fa-solid fa-chart-area"></i>
                    <span id="modal-asset-name">Market Chart</span>
                </div>
                <button id="close-modal" class="btn-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="tradingview-widget-container"></div>
            </div>
        </div>
    </div>

    <script src="main.js?v=20260225"></script>
</body>

</html>